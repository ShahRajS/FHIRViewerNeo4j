<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FHIR Viewer Neo4j</title>
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Left Panel: JSON Editor -->
        <div class="left-panel">
            <div class="panel-header">
                <h2>JSON Editor</h2>
                <div class="controls">
                    <input type="file" id="fileInput" accept=".json" style="display: none;">
                    <button id="uploadBtn" class="btn">Upload JSON</button>
                </div>
            </div>
            <div class="editor-container">
                <textarea id="jsonEditor">{
  "fruits": [
    {
      "resourceType": "Apple",
      "color": "#FF0000",
      "details": {
        "type": "Pome",
        "season": "Fall"
      },
      "nutrients": {
        "calories": 52,
        "fiber": "2.4g",
        "vitaminC": "4.6mg"
      }
    },
    {
      "resourceType": "Banana",
      "color": "#FFEB3B",
      "details": {
        "type": "Berry",
        "season": "Year-round"
      },
      "nutrients": {
        "calories": 89,
        "fiber": "2.6g",
        "potassium": "358mg"
      }
    },
    {
      "resourceType": "Orange",
      "color": "#FF9800",
      "details": {
        "type": "Citrus",
        "season": "Winter"
      },
      "nutrients": {
        "calories": 47,
        "fiber": "2.4g",
        "vitaminC": "53.2mg"
      }
    }
  ]
}</textarea>
            </div>
            <div class="editor-footer">
                <span id="validIndicator" class="indicator">Valid JSON</span>
                <button id="visualizeBtn" class="btn btn-primary">Visualize</button>
            </div>
        </div>

        <!-- Right Panel: Visualization -->
        <div class="right-panel">
            <div class="panel-header">
                <h2>Neo4j Graph Visualization</h2>
                <div class="controls">
                    <button id="backBtn" class="btn btn-back" title="Go back" style="display: none;">← Back</button>
                    <label for="maxDepthInput" class="depth-label">Max Depth:</label>
                    <input type="number" id="maxDepthInput" min="1" max="10" value="3" class="depth-input">
                    <input type="text" id="searchInput" placeholder="Q Search Node" class="search-input">
                    <button id="fitViewBtn" class="icon-btn" title="Fit to View">⊞</button>
                </div>
            </div>
            <div class="viz-container" id="vizContainer">
                <div id="neo4jNetwork"></div>
                <div class="zoom-controls">
                    <button id="zoomInBtn" class="zoom-btn">+</button>
                    <button id="zoomOutBtn" class="zoom-btn">−</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
